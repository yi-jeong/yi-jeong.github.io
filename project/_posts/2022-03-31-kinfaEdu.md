---
layout: post
title: ì„œë¯¼ê¸ˆìœµì§„í¥ì› ê¸ˆìœµêµìœ¡í¬íƒˆ ì¸íŠ¸ë¡œ
categories: [Project]
tags: [Publishing, JS, Design]
feature-img: "assets/img/project/KINFA_EDU_WEB.jpeg"
hidden: true
---


<p class="box-title"># ê¸°ì—¬ë„</p>

ğŸ¨ **ë””ìì¸** 100%  
ğŸ“ **í¼ë¸”ë¦¬ì‹±** 100%  
ğŸ›  **ìŠ¤í¬ë¦½íŠ¸êµ¬í˜„** 100%  

----
<p class="box-title"># ì‘ì—… í™˜ê²½ ë° ê¸°ìˆ ìŠ¤íƒ</p>

**DESIGN**  
   â­ï¸ XD  
   â­ï¸ Photoshop  
   â­ï¸ Illustrator

**VCS**  
   â­ï¸ Git

**IDE**   
   â­ï¸ IntelliJ 2022   

**FRONT**  
   â­ï¸ Swiper 4.5.1  
   â­ï¸ Java Script(es5)

----

<p class="box-title"># ì‘ì—… ë‚´ìš©</p>

ğŸ—“ **ì‘ì—…ê¸°ê°„**  2022. 02. 23 ~ 2022. 03. 31

--- 

ğŸ“Œ **ë””ìì¸ ì‹œì•ˆ ì‘ì—…**   

ğŸ“Œ **ì¸ë„¤ì¼ ì´ë¯¸ì§€ ì œì‘ ë° ìµœì í™” ì‘ì—…** 

ğŸ“Œ **ì›¹/ëª¨ë°”ì¼ ë°˜ì‘í˜• ì‘ì—…**  

<p style="text-align: left;">
<img src="{{ site.baseurl }}/assets/img/project/KINFA_EDU_WEB.jpeg">
<img class="ylong-img" src="{{ site.baseurl }}/assets/img/project/KINFA_EDU_MOBILE.png">
</p>

ğŸ“Œ **ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•œ í™”ë©´ ëœë”ë§ êµ¬í˜„** 
```js
   var IntroRenderManager = (function () {
      // rawData
      var eduIntroListStr = ${data};
      var eduTargetCodeListStr = ${codeData};

      // data
      var eduIntroMap, eduTargetCodeMap;

      // ë” ë³´ê¸° ì˜ìƒ ë§í¬ ëª©ë¡
      var moreEduUrlMap;

      // ìœ í‹¸
      strToJson = function (str) {
         return (str === "") ? {} : JSON.parse(str);
      };

      groupByKey = function(data, key) {
         return data.reduce(function (carry, el) {
               var group = el[key];

               if (carry[group] === undefined) {
                  carry[group] = [];
               }
               carry[group].push(el);

               return carry;
         }, {});
      };

      toMap = function(data) {
         return data.reduce(function (map, code) {
               map.set(code.MT_SUB_NAME, code.MT_SUB_CODE);
               return map;
         }, new Map());
      };

      initBtnState = function (btns) {
         for (var i = 0; i < btns.length; i++) {
            var btn = btns[i];
            btn.classList.remove("active");
         }
      };

      // ìœ í‹¸//
      setIntroInfo = function () {
         var eduIntroList = strToJson(eduIntroListStr);
         var eduTargetCodeList = strToJson(eduTargetCodeListStr);

         eduIntroMap = groupByKey(eduIntroList, 'MT_LEC_TARGET_CODE');
         // key: ì²­ì†Œë…„, value: EI0001
         eduTargetCodeMap = toMap(eduTargetCodeList);

         // ë”ë§ì€ì˜ìƒë³´ê¸° map ì„¤ì •(ie í˜¸í™˜ì„± ì¶”ê°€)
         moreEduUrlMap = new Map();
         moreEduUrlMap.set('ì²­ì†Œë…„', 'https://edu.kinfa.or.kr/academy/course/onDetail.do?ref1=YOUNG');
         moreEduUrlMap.set('ì²­ë…„Â·ëŒ€í•™ìƒ', 'https://edu.kinfa.or.kr/academy/course/onDetail.do?ref1=YOUTH');
         moreEduUrlMap.set('ì¤‘ì¥ë…„', 'https://edu.kinfa.or.kr/academy/course/onDetail.do?ref1=CNSMR');
         moreEduUrlMap.set('ì‹œë‹ˆì–´', 'https://edu.kinfa.or.kr/academy/course/onDetail.do?ref1=SENIOR');
         moreEduUrlMap.set('ì²­ê°ì¥ì• ì¸', 'https://edu.kinfa.or.kr/academy/course/onDetail.do?ref1=DEAF&mtScCode=SC7105');
         moreEduUrlMap.set('ë¶í•œì´íƒˆì£¼ë¯¼', 'https://edu.kinfa.or.kr/academy/course/onDetail.do?ref1=DEAF&mtScCode=SC7106');

      };

      setScrollEvent = function(){
         var topBtn = document.querySelector('.intro-top');

         //ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸
         document.addEventListener('scroll', function(e){
               //e.preventDefault();

               if(window.scrollY > 80){
                  topBtn.classList.add('block')
               }else{
                  topBtn.classList.remove('block');
               }

         })

         //ë²„íŠ¼ í´ë¦­ ì‹œ ìƒë‹¨ìœ¼ë¡œ ì´ë™
         topBtn.addEventListener("click", function(e){
               e.preventDefault();
               document.getElementById('top').scrollIntoView({ behavior: 'smooth' });
         });

      };

      setMenuEvent = function () {
         // ë©”ì¸ë©”ë‰´ ë²„íŠ¼ ì´ë²¤íŠ¸ ì´ˆê¸°í™”
         var mainContentBtns = document.querySelectorAll('.main-content-btn');

         for (var i = 0; i < mainContentBtns.length; i++) {

               var mainContentBtn = mainContentBtns[i];

               mainContentBtn.addEventListener('click', function (e) {
                  //e.stopPropagation();
                  //e.preventDefault();

                  initBtnState(mainContentBtns);

                  var eduTargetText = e.currentTarget.getAttribute('edu-key');

                  // ë™ì˜ìƒ ë¦¬ìŠ¤íŠ¸ ì˜ì—­ìœ¼ë¡œ ë¶€ë“œëŸ½ê²Œ ì´ë™
                  if (window.innerWidth<768){
                  document.getElementById('box').scrollIntoView({ behavior: 'smooth' });
                  }
                  // ì»¨í…ì¸  íƒ€ì´í‹€ ì¶”ê°€
                  document.querySelector('.content-tit > h2').innerText = eduTargetText;

                  // ì¸íŠ¸ë¡œ ë°ì´í„° ì„¤ì •
                  setIntroData(eduTargetText);
               });
         }
      };

      setIntroData = function (targetName){
         var wrapper = document.querySelector('.swiper-wrapper');
         var eduTargetCode = eduTargetCodeMap.get(targetName);
         var eduIntroInfos = eduIntroMap[eduTargetCode];

         wrapper ? wrapper.innerHTML = '' : '';

         setContent(eduIntroInfos);
         setMoreEduBtn(moreEduUrlMap.get(targetName));
      };

      moveTo = function(url) {
         window.location.href = url;
      };

      setMoreEduBtn = function(url) {
         document.querySelector('#moreEduBtn').href = url;
      };

      setContent = function (dataArr) {
         var wrapUl = document.querySelector(".swiper-wrapper");
         // ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš°
         if (dataArr == undefined || dataArr.length == 0) {
               wrapUl.innerHTML = "<li class='none-data'>ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤</li>";
               return;
         }

         // ì¸íŠ¸ë¡œ ë°ì´í„° ëœë”ë§
         for (var i = 0; i < dataArr.length; i++) {
               var data = dataArr[i];

               var hashTagLi = "";
               if (data.HASHTAG) {
                  var hashtags = data.HASHTAG.split(',');
                  hashtags.forEach(function (tag) {
                     hashTagLi += "<li>" + tag + "</li>";
                  });
               }

               // ë§í¬ url ì˜ˆì™¸ì²˜ë¦¬ ì²˜ë¦¬
               var eduUrl = data.URL;
               if (data.URL.indexOf('http') == -1) {
                  eduUrl = 'https://' + data.URL;
               }
               
               var dataSrc = data.IMG_SRC.substring(data.IMG_SRC.indexOf("/edu-data"));

               wrapUl.innerHTML +=
                  "<li class='swiper-slide'>" +
                     "<div class='swiper-container' style='width:100%;' onclick='moveTo(\""+eduUrl+"\");'>" +
                           "<div class='slide-img'> " +
                              /* "<img src='/getImages.do?type=intro&id=intro&file="+ data.SAVFILE +"' alt='" + data.IMG_ALT + "'>" + */
                              "<img src='" + dataSrc +"' alt='" + data.IMG_ALT + "'>" + 
                           "</div>" +
                     "<h3>" + data.TITLE + "</h3> " +
                     "<ul class='hashtag'>"+ hashTagLi + "</ul> " +
                     "</div> " +
                  "</li>";
         }

         setSwiper();
      };

      setSwiper = function () {
         var width = window.innerWidth;

         var swiperConfig = {
               spaceBetween: 10,
               slidersPerGroup: 3,
               loop: false,
               loopFillGroupWithBlank: true,
               pagination: {
                  el: ".swiper-pagination",
                  clickable: true,
               },
               navigation: {
                  nextEl: ".swiper-button-next",
                  prevEl: ".swiper-button-prev",
               },
         };

         if (width > 992)        swiperConfig.slidesPerView = 5;
         else if (width < 768)   swiperConfig.slidesPerView = 1;
         else                    swiperConfig.slidesPerView = 3;

         var swiper = new Swiper(".mySwiper", swiperConfig);
      };

      return {
         render: function () {
            setIntroInfo();
            setMenuEvent();
            setScrollEvent();
         },
         initContent: function () {
            setIntroData('ì²­ì†Œë…„');
         }
      }
   });

   document.addEventListener('DOMContentLoaded', function () {
      var introRenderManger = new IntroRenderManager();
      introRenderManger.render();
      introRenderManger.initContent();
   });
``` 

ìë°” ë‹¨ì—ì„œ Modelë¡œ ë°ì´í„°ë¥¼ ë„˜ê²¨ì¤€ ê°’ì„ ë³€ìˆ˜ì— ë‹´ì•„ JSON í˜•íƒœì˜ ë°ì´í„°ë¡œ ê°€ê³µí–ˆë‹¤.  
ê°€ê³µí•œ ë°ì´í„°ëŠ” ëœë”ë§í•˜ê¸° ì¢‹ì€ í˜•íƒœë¡œ ì¡°í•©í•´ í™”ë©´ì— ëœë”ë§í•´ì£¼ì—ˆë‹¤.  
ì¡°í•©ì—ëŠ” reduce í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.  
í™”ë©´ ë””ë°”ì´ìŠ¤ í¬ê¸°ë³„ë¡œ swiper view ê°¯ìˆ˜ë¥¼ ì¡°ì ˆí•˜ì˜€ë‹¤ ğŸ˜€ 


